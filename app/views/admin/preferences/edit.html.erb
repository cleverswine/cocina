<h1>General Settings</h1>

  <% if @pref.errors.any? %>    
      <% @pref.errors.full_messages.each do |msg| %>
        <div class="alert alert-error"><%= msg %></div>
      <% end %>  
  <% end %>
  
  <div class="rounded-container">  

    <%= form_for([:admin, @pref], :class => 'form-horizontal') do |f| %>
    
      <fieldset> 
    
        <div class="control-group">
          <%= label_tag(:per_page, nil, :class => "control-label") %> 
          <div class="controls">
            <%= f.text_field :per_page, :class => 'span1' %> 
          </div>
        </div>
        
        <div class="control-group">
          <%= label_tag(:import_action, nil, :class => "control-label") %>  
          <div class="controls">
            <%= f.select(:import_action, options_for_select([['Edit the recipe details', 'new'], ['Save and show the recipe', 'show']], @pref.import_action)) %>
          </div>
        </div>
        
         <div class="control-group">
          <%= label_tag('Default category on import', nil, :class => "control-label") %> 
          <div class="controls">
            <%= f.select(:default_category_id, options_from_collection_for_select(Category.all, "id", "name", @pref.default_category_id )) %>
          </div>
        </div>    
        
        <div class="control-group">
          <%= label_tag('Default tags on import (comma seperated)', nil, :class => "control-label") %> 
          <div class="controls">
            <%= f.text_field :default_tag_list, :class => 'span4' %> 
          </div>
        </div>
        
        <div>
          <%= f.submit 'Update Settings', :class => 'btn btn-primary' %>    
        </div> 
        
      </fieldset>
    <% end %>

</div>